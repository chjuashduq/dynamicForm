# QML å®Œå…¨å­¦ä¹ æ•™ç¨‹ - ç¬¬5ç« ï¼šåŠ¨ç”»ä¸è¿‡æ¸¡

## ğŸ“š ç›®å½•
1. [åŠ¨ç”»åŸºç¡€](#åŠ¨ç”»åŸºç¡€)
2. [å±æ€§åŠ¨ç”»](#å±æ€§åŠ¨ç”»)
3. [è¿‡æ¸¡æ•ˆæœ](#è¿‡æ¸¡æ•ˆæœ)
4. [çŠ¶æ€ç®¡ç†](#çŠ¶æ€ç®¡ç†)
5. [é«˜çº§åŠ¨ç”»](#é«˜çº§åŠ¨ç”»)
6. [å®æˆ˜æ¡ˆä¾‹](#å®æˆ˜æ¡ˆä¾‹)

---

## åŠ¨ç”»åŸºç¡€

QML æä¾›äº†å¼ºå¤§çš„åŠ¨ç”»ç³»ç»Ÿ,å¯ä»¥è½»æ¾åˆ›å»ºæµç•…çš„åŠ¨ç”»æ•ˆæœã€‚

### 1. Behavior - å±æ€§è¡Œä¸º

æœ€ç®€å•çš„åŠ¨ç”»æ–¹å¼,å½“å±æ€§æ”¹å˜æ—¶è‡ªåŠ¨æ’­æ”¾åŠ¨ç”»ã€‚

```qml
import QtQuick 6.5

Rectangle {
    width: 400
    height: 300
    
    Rectangle {
        id: box
        width: 100
        height: 100
        color: "red"
        x: 0
        y: 100
        
        // ä¸º x å±æ€§æ·»åŠ åŠ¨ç”»
        Behavior on x {
            NumberAnimation {
                duration: 500  // æŒç»­æ—¶é—´ 500ms
                easing.type: Easing.OutBounce  // ç¼“åŠ¨ç±»å‹
            }
        }
        
        // ä¸ºé¢œè‰²æ·»åŠ åŠ¨ç”»
        Behavior on color {
            ColorAnimation {
                duration: 300
            }
        }
    }
    
    MouseArea {
        anchors.fill: parent
        onClicked: {
            // æ”¹å˜å±æ€§ä¼šè‡ªåŠ¨è§¦å‘åŠ¨ç”»
            box.x = mouse.x - box.width / 2
            box.color = Qt.rgba(Math.random(), Math.random(), Math.random(), 1)
        }
    }
}
```

**å¸¸ç”¨ç¼“åŠ¨ç±»å‹:**
- `Easing.Linear` - çº¿æ€§
- `Easing.InQuad` - åŠ é€Ÿ
- `Easing.OutQuad` - å‡é€Ÿ
- `Easing.InOutQuad` - å…ˆåŠ é€Ÿåå‡é€Ÿ
- `Easing.OutBounce` - å¼¹è·³æ•ˆæœ
- `Easing.OutElastic` - å¼¹æ€§æ•ˆæœ

### 2. Animation - æ˜¾å¼åŠ¨ç”»

æ‰‹åŠ¨æ§åˆ¶åŠ¨ç”»çš„æ’­æ”¾ã€‚

```qml
Rectangle {
    width: 400
    height: 300
    
    Rectangle {
        id: box
        width: 100
        height: 100
        color: "blue"
        x: 0
        y: 100
    }
    
    // å®šä¹‰åŠ¨ç”»
    NumberAnimation {
        id: moveAnimation
        target: box
        property: "x"
        to: 300
        duration: 1000
        easing.type: Easing.InOutQuad
    }
    
    Button {
        text: "æ’­æ”¾åŠ¨ç”»"
        onClicked: moveAnimation.start()
    }
    
    Button {
        text: "åœæ­¢åŠ¨ç”»"
        anchors.top: parent.top
        anchors.topMargin: 40
        onClicked: moveAnimation.stop()
    }
}
```

---

## å±æ€§åŠ¨ç”»

### 1. NumberAnimation - æ•°å­—åŠ¨ç”»

```qml
Rectangle {
    width: 400
    height: 300
    
    Rectangle {
        id: box
        width: 50
        height: 50
        color: "red"
        
        NumberAnimation on width {
            from: 50
            to: 200
            duration: 2000
            loops: Animation.Infinite  // æ— é™å¾ªç¯
            running: true
        }
    }
}
```

### 2. ColorAnimation - é¢œè‰²åŠ¨ç”»

```qml
Rectangle {
    width: 200
    height: 200
    color: "red"
    
    ColorAnimation on color {
        from: "red"
        to: "blue"
        duration: 2000
        loops: Animation.Infinite
        running: true
    }
}
```

### 3. RotationAnimation - æ—‹è½¬åŠ¨ç”»

```qml
Rectangle {
    width: 100
    height: 100
    color: "green"
    
    RotationAnimation on rotation {
        from: 0
        to: 360
        duration: 2000
        loops: Animation.Infinite
        running: true
    }
}
```

### 4. OpacityAnimator - é€æ˜åº¦åŠ¨ç”»

```qml
Rectangle {
    width: 100
    height: 100
    color: "purple"
    
    OpacityAnimator on opacity {
        from: 1.0
        to: 0.0
        duration: 1000
        loops: Animation.Infinite
        running: true
    }
}
```

### 5. SequentialAnimation - é¡ºåºåŠ¨ç”»

å¤šä¸ªåŠ¨ç”»æŒ‰é¡ºåºæ‰§è¡Œã€‚

```qml
Rectangle {
    width: 400
    height: 300
    
    Rectangle {
        id: box
        width: 50
        height: 50
        color: "red"
        x: 0
        y: 125
    }
    
    SequentialAnimation {
        running: true
        loops: Animation.Infinite
        
        // å‘å³ç§»åŠ¨
        NumberAnimation {
            target: box
            property: "x"
            to: 350
            duration: 1000
        }
        
        // æ”¹å˜é¢œè‰²
        ColorAnimation {
            target: box
            property: "color"
            to: "blue"
            duration: 500
        }
        
        // å‘å·¦ç§»åŠ¨
        NumberAnimation {
            target: box
            property: "x"
            to: 0
            duration: 1000
        }
        
        // æ¢å¤é¢œè‰²
        ColorAnimation {
            target: box
            property: "color"
            to: "red"
            duration: 500
        }
    }
}
```

### 6. ParallelAnimation - å¹¶è¡ŒåŠ¨ç”»

å¤šä¸ªåŠ¨ç”»åŒæ—¶æ‰§è¡Œã€‚

```qml
Rectangle {
    width: 400
    height: 300
    
    Rectangle {
        id: box
        width: 50
        height: 50
        color: "red"
        x: 0
        y: 125
    }
    
    ParallelAnimation {
        running: true
        loops: Animation.Infinite
        
        // åŒæ—¶ç§»åŠ¨å’Œæ—‹è½¬
        NumberAnimation {
            target: box
            property: "x"
            to: 350
            duration: 2000
        }
        
        RotationAnimation {
            target: box
            property: "rotation"
            to: 360
            duration: 2000
        }
        
        ColorAnimation {
            target: box
            property: "color"
            to: "blue"
            duration: 2000
        }
    }
}
```

---

## è¿‡æ¸¡æ•ˆæœ

### 1. Transition - åŸºæœ¬è¿‡æ¸¡

```qml
Rectangle {
    width: 400
    height: 300
    
    Rectangle {
        id: box
        width: 100
        height: 100
        color: "red"
        x: 0
        y: 100
        
        states: [
            State {
                name: "moved"
                PropertyChanges {
                    target: box
                    x: 300
                    color: "blue"
                }
            }
        ]
        
        transitions: [
            Transition {
                NumberAnimation {
                    properties: "x"
                    duration: 500
                    easing.type: Easing.InOutQuad
                }
                ColorAnimation {
                    duration: 500
                }
            }
        ]
    }
    
    MouseArea {
        anchors.fill: parent
        onClicked: {
            box.state = box.state === "moved" ? "" : "moved"
        }
    }
}
```

### 2. æŒ‡å®šè¿‡æ¸¡æ–¹å‘

```qml
Rectangle {
    id: box
    width: 100
    height: 100
    color: "red"
    
    states: [
        State {
            name: "expanded"
            PropertyChanges {
                target: box
                width: 200
                height: 200
            }
        }
    ]
    
    transitions: [
        // ä»é»˜è®¤çŠ¶æ€åˆ° expanded çŠ¶æ€
        Transition {
            from: ""
            to: "expanded"
            NumberAnimation {
                properties: "width,height"
                duration: 500
                easing.type: Easing.OutBounce
            }
        },
        // ä» expanded çŠ¶æ€å›åˆ°é»˜è®¤çŠ¶æ€
        Transition {
            from: "expanded"
            to: ""
            NumberAnimation {
                properties: "width,height"
                duration: 300
                easing.type: Easing.InQuad
            }
        }
    ]
}
```

---

## çŠ¶æ€ç®¡ç†

### 1. State - çŠ¶æ€å®šä¹‰

```qml
Rectangle {
    width: 400
    height: 300
    
    Rectangle {
        id: trafficLight
        width: 100
        height: 300
        color: "#333"
        radius: 10
        
        Column {
            anchors.centerIn: parent
            spacing: 20
            
            Rectangle {
                id: redLight
                width: 60
                height: 60
                radius: 30
                color: "darkred"
            }
            
            Rectangle {
                id: yellowLight
                width: 60
                height: 60
                radius: 30
                color: "darkgoldenrod"
            }
            
            Rectangle {
                id: greenLight
                width: 60
                height: 60
                radius: 30
                color: "darkgreen"
            }
        }
        
        states: [
            State {
                name: "red"
                PropertyChanges { target: redLight; color: "red" }
                PropertyChanges { target: yellowLight; color: "darkgoldenrod" }
                PropertyChanges { target: greenLight; color: "darkgreen" }
            },
            State {
                name: "yellow"
                PropertyChanges { target: redLight; color: "darkred" }
                PropertyChanges { target: yellowLight; color: "yellow" }
                PropertyChanges { target: greenLight; color: "darkgreen" }
            },
            State {
                name: "green"
                PropertyChanges { target: redLight; color: "darkred" }
                PropertyChanges { target: yellowLight; color: "darkgoldenrod" }
                PropertyChanges { target: greenLight; color: "green" }
            }
        ]
        
        state: "red"
        
        transitions: [
            Transition {
                ColorAnimation { duration: 300 }
            }
        ]
    }
    
    Row {
        anchors.bottom: parent.bottom
        anchors.horizontalCenter: parent.horizontalCenter
        anchors.bottomMargin: 20
        spacing: 10
        
        Button {
            text: "çº¢ç¯"
            onClicked: trafficLight.state = "red"
        }
        
        Button {
            text: "é»„ç¯"
            onClicked: trafficLight.state = "yellow"
        }
        
        Button {
            text: "ç»¿ç¯"
            onClicked: trafficLight.state = "green"
        }
    }
}
```

---

## é«˜çº§åŠ¨ç”»

### 1. PathAnimation - è·¯å¾„åŠ¨ç”»

```qml
Rectangle {
    width: 400
    height: 400
    
    Rectangle {
        id: ball
        width: 30
        height: 30
        radius: 15
        color: "red"
    }
    
    PathAnimation {
        id: pathAnim
        target: ball
        duration: 3000
        loops: Animation.Infinite
        
        path: Path {
            startX: 50
            startY: 50
            
            PathCubic {
                x: 350
                y: 50
                control1X: 200
                control1Y: -50
                control2X: 200
                control2Y: 150
            }
            
            PathCubic {
                x: 350
                y: 350
                control1X: 450
                control1Y: 200
                control2X: 250
                control2Y: 200
            }
            
            PathCubic {
                x: 50
                y: 350
                control1X: 200
                control1Y: 450
                control2X: 200
                control2Y: 250
            }
            
            PathCubic {
                x: 50
                y: 50
                control1X: -50
                control1Y: 200
                control2X: 150
                control2Y: 200
            }
        }
    }
    
    Component.onCompleted: pathAnim.start()
}
```

### 2. SpringAnimation - å¼¹ç°§åŠ¨ç”»

```qml
Rectangle {
    width: 400
    height: 300
    
    Rectangle {
        id: box
        width: 50
        height: 50
        color: "blue"
        x: 0
        y: 125
        
        Behavior on x {
            SpringAnimation {
                spring: 2      // å¼¹ç°§å¼ºåº¦
                damping: 0.2   // é˜»å°¼
            }
        }
    }
    
    MouseArea {
        anchors.fill: parent
        onClicked: {
            box.x = mouse.x - box.width / 2
        }
    }
}
```

### 3. SmoothedAnimation - å¹³æ»‘åŠ¨ç”»

```qml
Rectangle {
    width: 400
    height: 300
    
    Rectangle {
        id: box
        width: 50
        height: 50
        color: "green"
        x: 0
        y: 125
        
        Behavior on x {
            SmoothedAnimation {
                velocity: 200  // é€Ÿåº¦
            }
        }
    }
    
    MouseArea {
        anchors.fill: parent
        onClicked: {
            box.x = mouse.x - box.width / 2
        }
    }
}
```

---

## å®æˆ˜æ¡ˆä¾‹

### æ¡ˆä¾‹ 1: åŠ è½½åŠ¨ç”»

```qml
import QtQuick 6.5
import QtQuick.Controls 6.5

ApplicationWindow {
    width: 400
    height: 300
    visible: true
    title: "åŠ è½½åŠ¨ç”»"
    
    Rectangle {
        anchors.centerIn: parent
        width: 100
        height: 100
        color: "transparent"
        
        Repeater {
            model: 8
            
            Rectangle {
                width: 10
                height: 30
                radius: 5
                color: "#409EFF"
                x: 45
                y: 10
                
                transform: Rotation {
                    origin.x: 5
                    origin.y: 45
                    angle: index * 45
                }
                
                opacity: 1.0 - index * 0.1
                
                SequentialAnimation on opacity {
                    loops: Animation.Infinite
                    
                    PauseAnimation {
                        duration: index * 100
                    }
                    
                    NumberAnimation {
                        from: 1.0
                        to: 0.1
                        duration: 800
                    }
                }
            }
        }
    }
}
```

### æ¡ˆä¾‹ 2: å¡ç‰‡ç¿»è½¬åŠ¨ç”»

```qml
import QtQuick 6.5
import QtQuick.Controls 6.5

ApplicationWindow {
    width: 400
    height: 300
    visible: true
    title: "å¡ç‰‡ç¿»è½¬"
    
    Rectangle {
        id: card
        width: 200
        height: 300
        anchors.centerIn: parent
        
        property bool flipped: false
        
        transform: Rotation {
            id: rotation
            origin.x: card.width / 2
            origin.y: card.height / 2
            axis { x: 0; y: 1; z: 0 }
            angle: 0
        }
        
        // æ­£é¢
        Rectangle {
            anchors.fill: parent
            color: "#409EFF"
            radius: 10
            visible: rotation.angle < 90
            
            Text {
                anchors.centerIn: parent
                text: "æ­£é¢"
                font.pixelSize: 32
                color: "white"
            }
        }
        
        // èƒŒé¢
        Rectangle {
            anchors.fill: parent
            color: "#67C23A"
            radius: 10
            visible: rotation.angle >= 90
            
            transform: Rotation {
                origin.x: card.width / 2
                origin.y: card.height / 2
                axis { x: 0; y: 1; z: 0 }
                angle: 180
            }
            
            Text {
                anchors.centerIn: parent
                text: "èƒŒé¢"
                font.pixelSize: 32
                color: "white"
            }
        }
        
        MouseArea {
            anchors.fill: parent
            onClicked: {
                card.flipped = !card.flipped
            }
        }
        
        states: [
            State {
                name: "flipped"
                when: card.flipped
                PropertyChanges {
                    target: rotation
                    angle: 180
                }
            }
        ]
        
        transitions: [
            Transition {
                NumberAnimation {
                    target: rotation
                    property: "angle"
                    duration: 600
                    easing.type: Easing.InOutQuad
                }
            }
        ]
    }
}
```

### æ¡ˆä¾‹ 3: ä¾§è¾¹æ æ»‘åŠ¨

```qml
import QtQuick 6.5
import QtQuick.Controls 6.5

ApplicationWindow {
    width: 600
    height: 400
    visible: true
    title: "ä¾§è¾¹æ åŠ¨ç”»"
    
    property bool sidebarOpen: false
    
    // ä¸»å†…å®¹åŒº
    Rectangle {
        anchors.fill: parent
        color: "#f0f0f0"
        
        Button {
            anchors.top: parent.top
            anchors.left: parent.left
            anchors.margins: 20
            text: sidebarOpen ? "å…³é—­ä¾§è¾¹æ " : "æ‰“å¼€ä¾§è¾¹æ "
            onClicked: sidebarOpen = !sidebarOpen
        }
        
        Text {
            anchors.centerIn: parent
            text: "ä¸»å†…å®¹åŒºåŸŸ"
            font.pixelSize: 24
        }
    }
    
    // ä¾§è¾¹æ 
    Rectangle {
        id: sidebar
        width: 250
        height: parent.height
        color: "#2c3e50"
        x: sidebarOpen ? 0 : -width
        
        Behavior on x {
            NumberAnimation {
                duration: 300
                easing.type: Easing.OutQuad
            }
        }
        
        Column {
            anchors.fill: parent
            anchors.margins: 20
            spacing: 10
            
            Text {
                text: "ä¾§è¾¹æ "
                color: "white"
                font.pixelSize: 20
                font.bold: true
            }
            
            Repeater {
                model: ["é¦–é¡µ", "äº§å“", "æœåŠ¡", "å…³äº", "è”ç³»"]
                
                Rectangle {
                    width: parent.width
                    height: 40
                    color: "#34495e"
                    radius: 4
                    
                    Text {
                        text: modelData
                        color: "white"
                        anchors.centerIn: parent
                    }
                    
                    MouseArea {
                        anchors.fill: parent
                        hoverEnabled: true
                        onEntered: parent.color = "#3498db"
                        onExited: parent.color = "#34495e"
                    }
                }
            }
        }
    }
}
```

---

## ğŸ’¡ åŠ¨ç”»æ€§èƒ½ä¼˜åŒ–

### 1. ä½¿ç”¨ Animator

Animator åœ¨æ¸²æŸ“çº¿ç¨‹è¿è¡Œ,æ€§èƒ½æ›´å¥½ã€‚

```qml
// âœ… æ¨è: ä½¿ç”¨ Animator
OpacityAnimator on opacity {
    from: 0
    to: 1
    duration: 300
}

// âŒ ä¸æ¨è: æ™®é€šåŠ¨ç”»
NumberAnimation on opacity {
    from: 0
    to: 1
    duration: 300
}
```

### 2. é¿å…å¤æ‚çš„ç»‘å®š

```qml
// âŒ ä¸å¥½: å¤æ‚çš„ç»‘å®šä¼šå½±å“æ€§èƒ½
width: parent.width * Math.sin(rotation) + someOtherValue

// âœ… å¥½: ç®€å•çš„ç»‘å®š
width: parent.width
```

### 3. ä½¿ç”¨ layer.enabled

å¯¹äºå¤æ‚çš„åŠ¨ç”»å…ƒç´ ,å¯ç”¨å›¾å±‚ç¼“å­˜ã€‚

```qml
Rectangle {
    layer.enabled: true  // å¯ç”¨å›¾å±‚ç¼“å­˜
    layer.smooth: true
    
    // å¤æ‚çš„å†…å®¹...
}
```

---

## ğŸ“ å°ç»“

æœ¬ç« å­¦ä¹ äº†:
- âœ… QML åŠ¨ç”»çš„åŸºæœ¬æ¦‚å¿µ
- âœ… å„ç§ç±»å‹çš„å±æ€§åŠ¨ç”»
- âœ… è¿‡æ¸¡æ•ˆæœå’ŒçŠ¶æ€ç®¡ç†
- âœ… é«˜çº§åŠ¨ç”»æŠ€å·§
- âœ… å®é™…é¡¹ç›®ä¸­çš„åŠ¨ç”»åº”ç”¨

**æ­å–œä½ å®Œæˆäº† QML å®Œå…¨å­¦ä¹ æ•™ç¨‹!** ğŸ‰

---

## ğŸ“ ä¸‹ä¸€æ­¥å­¦ä¹ å»ºè®®

1. **æ·±å…¥å­¦ä¹  Qt Quick Controls** - æŒæ¡æ›´å¤šå†…ç½®æ§ä»¶
2. **å­¦ä¹  C++ ä¸ QML äº¤äº’** - å®ç°æ›´å¤æ‚çš„åŠŸèƒ½
3. **ç ”ç©¶ Qt Quick 3D** - åˆ›å»º 3D åº”ç”¨
4. **å®è·µé¡¹ç›®** - é€šè¿‡å®é™…é¡¹ç›®å·©å›ºçŸ¥è¯†
5. **é˜…è¯»å®˜æ–¹æ–‡æ¡£** - æŒç»­å­¦ä¹ æ–°ç‰¹æ€§

## ğŸ”— æ¨èèµ„æº

- [Qt å®˜æ–¹æ–‡æ¡£](https://doc.qt.io/qt-6/)
- [Qt Quick ç¤ºä¾‹](https://doc.qt.io/qt-6/qtquick-codesamples.html)
- [QML æœ€ä½³å®è·µ](https://doc.qt.io/qt-6/qtquick-bestpractices.html)
- [Qt è®ºå›](https://forum.qt.io/)
