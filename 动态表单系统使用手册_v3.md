# åŠ¨æ€è¡¨å•ç³»ç»Ÿå®Œæ•´ä½¿ç”¨æ‰‹å†Œ v3.0

## ç›®å½•
1. [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
2. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
3. [åˆ›å»ºè¡¨å•](#åˆ›å»ºè¡¨å•)
4. [æ§ä»¶ç±»å‹è¯¦è§£](#æ§ä»¶ç±»å‹è¯¦è§£)
5. [äº‹ä»¶å‡½æ•°é…ç½®](#äº‹ä»¶å‡½æ•°é…ç½®)
6. [éªŒè¯åŠŸèƒ½](#éªŒè¯åŠŸèƒ½)
7. [æ•°æ®åº“æ“ä½œ](#æ•°æ®åº“æ“ä½œ)
8. [QML æŠ€æœ¯è¯¦è§£](#qmlæŠ€æœ¯è¯¦è§£)
9. [è®¾è®¡æ€è·¯ä¸æ¶æ„](#è®¾è®¡æ€è·¯ä¸æ¶æ„)
10. [å®Œæ•´ç¤ºä¾‹](#å®Œæ•´ç¤ºä¾‹)

---

## ç³»ç»Ÿæ¦‚è¿°

### ä»€ä¹ˆæ˜¯åŠ¨æ€è¡¨å•ç³»ç»Ÿï¼Ÿ

åŠ¨æ€è¡¨å•ç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäº Qt QML å¼€å‘çš„å¯è§†åŒ–è¡¨å•é…ç½®å’Œæ¸²æŸ“å¹³å°ã€‚å®ƒå…è®¸ç”¨æˆ·é€šè¿‡å›¾å½¢ç•Œé¢è®¾è®¡è¡¨å•ï¼Œæ— éœ€ç¼–å†™ä»£ç å³å¯åˆ›å»ºå¤æ‚çš„æ•°æ®å½•å…¥ç•Œé¢ã€‚

### æ ¸å¿ƒç‰¹æ€§

- **å¯è§†åŒ–è®¾è®¡**ï¼šæ‹–æ‹½å¼è¡¨å•è®¾è®¡ï¼Œå®æ—¶é¢„è§ˆ
- **å¤šç§æ§ä»¶ç±»å‹**ï¼šæ”¯æŒæ–‡æœ¬æ¡†ã€æ•°å­—æ¡†ã€ä¸‹æ‹‰æ¡†ã€å¤é€‰æ¡†ã€å•é€‰æ¡†ã€æŒ‰é’®ç­‰
- **çµæ´»å¸ƒå±€**ï¼šç½‘æ ¼å¸ƒå±€ç³»ç»Ÿï¼Œæ”¯æŒè‡ªå®šä¹‰è¡Œåˆ—æ•°ã€é—´è·ã€è·¨åº¦
- **äº‹ä»¶é©±åŠ¨**ï¼šæ”¯æŒç„¦ç‚¹ä¸¢å¤±ã€å€¼å˜åŒ–ã€æŒ‰é’®ç‚¹å‡»ç­‰äº‹ä»¶
- **è‡ªå®šä¹‰éªŒè¯**ï¼šå†…ç½®å¸¸ç”¨éªŒè¯å‡½æ•°ï¼Œæ”¯æŒè‡ªå®šä¹‰éªŒè¯é€»è¾‘
- **æ•°æ®åº“é›†æˆ**ï¼šç›´æ¥æ“ä½œ MySQL æ•°æ®åº“ï¼Œæ”¯æŒå¢åˆ æ”¹æŸ¥
- **JavaScript æ”¯æŒ**ï¼šäº‹ä»¶å¤„ç†å‡½æ•°ä½¿ç”¨ JavaScript ç¼–å†™ï¼Œçµæ´»å¼ºå¤§

### æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**ï¼šQt Quick 6.5 (QML)
- **æ•°æ®åº“**ï¼šMySQL
- **è„šæœ¬è¯­è¨€**ï¼šJavaScript
- **è®¾è®¡æ¨¡å¼**ï¼šå·¥å‚æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ã€MVC æ¶æ„

---

## å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨åº”ç”¨

è¿è¡Œåº”ç”¨åï¼Œæ‚¨å°†çœ‹åˆ°è¡¨å•åˆ—è¡¨ç•Œé¢ï¼Œæ˜¾ç¤ºæ‰€æœ‰å·²åˆ›å»ºçš„è¡¨å•ã€‚

### ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ–°è¡¨å•

1. ç‚¹å‡»**"æ–°å¢è¡¨å•"**æŒ‰é’®
2. è¿›å…¥è¡¨å•é…ç½®ç¼–è¾‘å™¨ç•Œé¢

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®è¡¨å•åŸºæœ¬ä¿¡æ¯

1. è¾“å…¥**è¡¨å•åç§°**ï¼ˆå¿…å¡«ï¼‰
2. é…ç½®ç½‘æ ¼å¸ƒå±€ï¼ˆè¡Œæ•°ã€åˆ—æ•°ã€é—´è·ç­‰ï¼‰

### ç¬¬å››æ­¥ï¼šæ·»åŠ æ§ä»¶

1. ä»æ§ä»¶å·¥å…·æ é€‰æ‹©éœ€è¦çš„æ§ä»¶ç±»å‹
2. ç‚¹å‡»æ§ä»¶æŒ‰é’®ï¼Œæ§ä»¶å°†è‡ªåŠ¨æ·»åŠ åˆ°è¡¨å•ä¸­
3. ç‚¹å‡»æ§ä»¶è¿›è¡Œç¼–è¾‘é…ç½®

### ç¬¬äº”æ­¥ï¼šä¿å­˜è¡¨å•

1. ç‚¹å‡»**"æäº¤è¡¨å•é…ç½®"**æŒ‰é’®
2. è¡¨å•é…ç½®å°†ä¿å­˜åˆ°æ•°æ®åº“

### ç¬¬å…­æ­¥ï¼šä½¿ç”¨è¡¨å•

1. è¿”å›è¡¨å•åˆ—è¡¨
2. ç‚¹å‡»**"æ–°å¢"**æŒ‰é’®å¡«å†™æ•°æ®
3. ç‚¹å‡»**"æŸ¥è¯¢"**æŒ‰é’®æŸ¥çœ‹å·²æäº¤çš„æ•°æ®

---

## åˆ›å»ºè¡¨å•

### è¡¨å•é…ç½®ç•Œé¢è¯´æ˜

è¡¨å•é…ç½®ç¼–è¾‘å™¨åŒ…å«ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š

#### 1. è¡¨å•åŸºæœ¬é…ç½®
- **è¡¨å•åç§°**ï¼šç”¨äºæ ‡è¯†è¡¨å•ï¼Œå¿…å¡«é¡¹

#### 2. ç½‘æ ¼é…ç½®é¢æ¿
é…ç½®è¡¨å•çš„å¸ƒå±€ç»“æ„ï¼š

- **è¡Œæ•°ï¼ˆRowsï¼‰**ï¼šè¡¨å•çš„è¡Œæ•°ï¼Œé»˜è®¤ 4 è¡Œ
- **åˆ—æ•°ï¼ˆColumnsï¼‰**ï¼šè¡¨å•çš„åˆ—æ•°ï¼Œé»˜è®¤ 2 åˆ—
- **è¡Œé—´è·ï¼ˆRow Spacingï¼‰**ï¼šè¡Œä¸è¡Œä¹‹é—´çš„é—´è·ï¼Œå•ä½åƒç´ 
- **åˆ—é—´è·ï¼ˆColumn Spacingï¼‰**ï¼šåˆ—ä¸åˆ—ä¹‹é—´çš„é—´è·ï¼Œå•ä½åƒç´ 
- **è¡Œé«˜æ¯”ä¾‹ï¼ˆRow Heightsï¼‰**ï¼šæ¯è¡Œçš„é«˜åº¦æ¯”ä¾‹ï¼Œç”¨é€—å·åˆ†éš”ï¼Œå¦‚ `1,1,1,2`
- **åˆ—å®½æ¯”ä¾‹ï¼ˆColumn Widthsï¼‰**ï¼šæ¯åˆ—çš„å®½åº¦æ¯”ä¾‹ï¼Œç”¨é€—å·åˆ†éš”ï¼Œå¦‚ `1,2`

**ç¤ºä¾‹é…ç½®ï¼š**
```
è¡Œæ•°: 5
åˆ—æ•°: 2
è¡Œé—´è·: 10
åˆ—é—´è·: 15
è¡Œé«˜æ¯”ä¾‹: 1,1,1,1,2
åˆ—å®½æ¯”ä¾‹: 1,2
```

è¿™å°†åˆ›å»ºä¸€ä¸ª 5 è¡Œ 2 åˆ—çš„è¡¨å•ï¼Œå‰ 4 è¡Œé«˜åº¦ç›¸åŒï¼Œæœ€åä¸€è¡Œé«˜åº¦æ˜¯å‰é¢çš„ 2 å€ï¼›ç¬¬ä¸€åˆ—å®½åº¦æ˜¯ç¬¬äºŒåˆ—çš„ä¸€åŠã€‚

#### 3. æ§ä»¶å·¥å…·æ 
æä¾›å¤šç§æ§ä»¶ç±»å‹ä¾›é€‰æ‹©ï¼š

- ğŸ“ **æ–‡æœ¬æ¡†ï¼ˆTextï¼‰**ï¼šå•è¡Œæ–‡æœ¬è¾“å…¥
- ğŸ”¢ **æ•°å­—æ¡†ï¼ˆNumberï¼‰**ï¼šæ•°å­—è¾“å…¥ï¼Œæ”¯æŒå¢å‡æŒ‰é’®
- ğŸ”½ **ä¸‹æ‹‰æ¡†ï¼ˆDropdownï¼‰**ï¼šä¸‹æ‹‰é€‰æ‹©åˆ—è¡¨
- â˜‘ï¸ **å¤é€‰æ¡†ï¼ˆCheckboxï¼‰**ï¼šå¤šé€‰æ¡†ç»„
- ğŸ”˜ **å•é€‰æ¡†ï¼ˆRadioï¼‰**ï¼šå•é€‰æŒ‰é’®ç»„
- ğŸ”˜ **æŒ‰é’®ï¼ˆButtonï¼‰**ï¼šæ“ä½œæŒ‰é’®
- ğŸ”’ **å¯†ç æ¡†ï¼ˆPasswordï¼‰**ï¼šå¯†ç è¾“å…¥æ¡†

#### 4. æ§ä»¶é¢„è§ˆåŒºåŸŸ
å®æ—¶æ˜¾ç¤ºè¡¨å•çš„å¸ƒå±€å’Œæ§ä»¶é…ç½®æ•ˆæœã€‚

**æ“ä½œè¯´æ˜ï¼š**
- **å·¦é”®ç‚¹å‡»æ§ä»¶**ï¼šæ‰“å¼€ç¼–è¾‘å¯¹è¯æ¡†
- **å³é”®ç‚¹å‡»æ§ä»¶**ï¼šåˆ é™¤è¯¥æ§ä»¶

---


## QML æŠ€æœ¯è¯¦è§£

### QML ç®€ä»‹

QML (Qt Modeling Language) æ˜¯ä¸€ç§å£°æ˜å¼è¯­è¨€ï¼Œç”¨äºè®¾è®¡ä»¥ç”¨æˆ·ç•Œé¢ä¸ºä¸­å¿ƒçš„åº”ç”¨ç¨‹åºã€‚å®ƒæ˜¯ Qt Quick çš„ä¸€éƒ¨åˆ†ï¼Œæä¾›äº†ä¸€ç§ç®€æ´çš„æ–¹å¼æ¥æ„å»ºæµç•…çš„ç”¨æˆ·ç•Œé¢ã€‚

### æ•°æ®ç»‘å®š

#### å±æ€§ç»‘å®š

QML çš„æ ¸å¿ƒç‰¹æ€§ä¹‹ä¸€æ˜¯å±æ€§ç»‘å®šï¼Œå½“ç»‘å®šçš„å±æ€§å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¾èµ–å®ƒçš„å±æ€§ä¼šè‡ªåŠ¨æ›´æ–°ã€‚

```qml
Rectangle {
    id: rect
    width: 100
    height: width * 2  // height è‡ªåŠ¨ç»‘å®šåˆ° widthï¼Œå½“ width å˜åŒ–æ—¶ height è‡ªåŠ¨æ›´æ–°
}

Text {
    text: "å®½åº¦: " + rect.width  // text ç»‘å®šåˆ° rect.width
}
```

#### åŒå‘ç»‘å®š

ä½¿ç”¨ `Binding` å¯¹è±¡å¯ä»¥å®ç°æ›´å¤æ‚çš„ç»‘å®šï¼š

```qml
TextField {
    id: nameInput
    text: ""
}

Text {
    id: displayText
    text: ""
}

Binding {
    target: displayText
    property: "text"
    value: "ä½ å¥½, " + nameInput.text
}
```

#### åŠ¨æ€å±æ€§ç»‘å®š

åœ¨æœ¬ç³»ç»Ÿä¸­ï¼Œæ§ä»¶çš„å€¼ä¸ controlsMap ç»‘å®šï¼š

```qml
// FormPreview.qml
property var controlsMap: ({})

// å½“æ§ä»¶åˆ›å»ºæ—¶ï¼Œæ³¨å†Œåˆ° controlsMap
controlsMap[controlKey] = input

// FormAPI å¯ä»¥é€šè¿‡ controlsMap è®¿é—®æ‰€æœ‰æ§ä»¶
function getControlValue(key) {
    if (controlsMap[key]) {
        return controlsMap[key].text  // è‡ªåŠ¨è·å–æœ€æ–°å€¼
    }
}
```

### ä¿¡å·ä¸æ§½æœºåˆ¶

#### ä¿¡å·å®šä¹‰

```qml
// ConfigManager.qml
QtObject {
    signal internalConfigChanged(var newConfig)
    
    function updateConfig() {
        // é…ç½®å˜åŒ–æ—¶å‘å‡ºä¿¡å·
        internalConfigChanged(currentConfig)
    }
}
```

#### ä¿¡å·è¿æ¥

```qml
// ConfigEditor.qml
Connections {
    target: configManagerLoader
    function onLoaded() {
        // è¿æ¥é…ç½®å˜åŒ–ä¿¡å·
        item.internalConfigChanged.connect(function (newConfig) {
            // æ›´æ–°é¢„è§ˆ
            gridPreviewLoader.item.controls = newConfig.controls
            gridPreviewLoader.item.refresh()
        })
    }
}
```

#### è‡ªå®šä¹‰ä¿¡å·

```qml
Dialog {
    id: editDialog
    
    // å®šä¹‰è‡ªå®šä¹‰ä¿¡å·
    signal controlSaved(int index, var config)
    
    onAccepted: {
        var newConfig = buildControlConfig()
        // å‘å‡ºä¿¡å·
        controlSaved(editIndex, newConfig)
    }
}

// ä½¿ç”¨ä¿¡å·
editDialog.controlSaved.connect(function(index, config) {
    configManager.updateControl(index, config)
})
```

### æ•°æ®åº“äº¤äº’

#### C++ ç«¯å®ç°

```cpp
// MySqlHelper.h
class MySqlHelper : public QObject {
    Q_OBJECT
public:
    Q_INVOKABLE bool insert(const QString& tableName, const QMap<QString, QVariant>& data);
    Q_INVOKABLE QVector<QVariantMap> select(const QString& tableName, 
                                             const QStringList& columns, 
                                             const QString& where);
    Q_INVOKABLE bool update(const QString& tableName, 
                            const QMap<QString, QVariant>& data, 
                            const QString& where);
    Q_INVOKABLE bool remove(const QString& tableName, const QString& where);
};
```

**å…³é”®ç‚¹ï¼š**
- `Q_OBJECT` å®ï¼šå¯ç”¨ Qt å…ƒå¯¹è±¡ç³»ç»Ÿ
- `Q_INVOKABLE` å®ï¼šä½¿æ–¹æ³•å¯ä»¥ä» QML è°ƒç”¨
- å‚æ•°ç±»å‹å¿…é¡»æ˜¯ Qt å…ƒç±»å‹ç³»ç»Ÿæ”¯æŒçš„ç±»å‹

#### QML ç«¯è°ƒç”¨

```qml
import mysqlhelper 1.0

Item {
    Component.onCompleted: {
        // æ’å…¥æ•°æ®
        var data = {
            username: "å¼ ä¸‰",
            age: 25
        }
        var result = MySqlHelper.insert("users", data)
        
        // æŸ¥è¯¢æ•°æ®
        var users = MySqlHelper.select("users", ["*"], "age > 18")
        console.log("æŸ¥è¯¢ç»“æœ:", JSON.stringify(users))
    }
}
```

### QML ä¸ C++ äº¤äº’

#### æ³¨å†Œ C++ ç±»å‹åˆ° QML

```cpp
// main.cpp
#include <QQmlContext>
#include "MySqlHelper.h"

int main(int argc, char *argv[]) {
    QGuiApplication app(argc, argv);
    QQmlApplicationEngine engine;
    
    // æ–¹å¼1ï¼šæ³¨å†Œç±»å‹ï¼ˆå¯ä»¥åœ¨ QML ä¸­å®ä¾‹åŒ–ï¼‰
    qmlRegisterType<MySqlHelper>("mysqlhelper", 1, 0, "MySqlHelper");
    
    // æ–¹å¼2ï¼šæ³¨å†Œå•ä¾‹ï¼ˆå…¨å±€å”¯ä¸€å®ä¾‹ï¼‰
    qmlRegisterSingletonType<MySqlHelper>("mysqlhelper", 1, 0, "MySqlHelper",
        [](QQmlEngine *engine, QJSEngine *scriptEngine) -> QObject * {
            return new MySqlHelper();
        });
    
    // æ–¹å¼3ï¼šè®¾ç½®ä¸Šä¸‹æ–‡å±æ€§ï¼ˆç›´æ¥å¯ç”¨ï¼‰
    MySqlHelper *helper = new MySqlHelper();
    engine.rootContext()->setContextProperty("MySqlHelper", helper);
    
    engine.load(QUrl(QStringLiteral("qrc:/main.qml")));
    return app.exec();
}
```

#### ä» QML è°ƒç”¨ C++ æ–¹æ³•

```qml
// è°ƒç”¨ C++ æ–¹æ³•
Button {
    text: "ä¿å­˜"
    onClicked: {
        // è°ƒç”¨ C++ çš„ insert æ–¹æ³•
        var success = MySqlHelper.insert("users", {
            name: nameInput.text,
            age: ageInput.value
        })
        
        if (success) {
            console.log("ä¿å­˜æˆåŠŸ")
        }
    }
}
```

#### ä» C++ è°ƒç”¨ QML æ–¹æ³•

```cpp
// C++ ç«¯
QObject *rootObject = engine.rootObjects().first();
QMetaObject::invokeMethod(rootObject, "showMessage",
    Q_ARG(QString, "Hello from C++"),
    Q_ARG(QString, "info"));
```

```qml
// QML ç«¯
Item {
    function showMessage(message, type) {
        console.log(message, type)
    }
}
```

### åŠ¨æ€å¯¹è±¡åˆ›å»º

#### ä½¿ç”¨ Component

```qml
Component {
    id: buttonComponent
    Button {
        text: "åŠ¨æ€æŒ‰é’®"
    }
}

Item {
    function createButton() {
        var button = buttonComponent.createObject(parent, {
            "text": "æ–°æŒ‰é’®",
            "x": 100,
            "y": 100
        })
        return button
    }
}
```

#### ä½¿ç”¨ Qt.createQmlObject

```qml
function createDynamicControl(type) {
    var qmlString = 'import QtQuick.Controls 6.5; ' + type + ' { }'
    var control = Qt.createQmlObject(qmlString, parent, "dynamicControl")
    return control
}
```

#### æœ¬ç³»ç»Ÿä¸­çš„åº”ç”¨

```qml
// ControlFactory.qml
function _createInput(container, config) {
    var input = null
    
    switch(config.type) {
        case "text":
            input = textFieldComponent.createObject(container)
            input.text = config.value || ""
            break
        case "number":
            input = spinBoxComponent.createObject(container)
            input.value = config.value || 0
            break
    }
    
    return input
}
```

### Loader åŠ¨æ€åŠ è½½

#### åŸºæœ¬ç”¨æ³•

```qml
Loader {
    id: pageLoader
    source: "Page1.qml"
    
    onLoaded: {
        // é¡µé¢åŠ è½½å®Œæˆåçš„å¤„ç†
        item.initialize()
    }
}

// åˆ‡æ¢é¡µé¢
Button {
    text: "åˆ‡æ¢åˆ° Page2"
    onClicked: {
        pageLoader.source = "Page2.qml"
    }
}
```

#### æœ¬ç³»ç»Ÿä¸­çš„åº”ç”¨

```qml
// ConfigEditor.qml
Loader {
    id: configManagerLoader
    source: "managers/ConfigManager.qml"
    onLoaded: {
        // è¿æ¥ä¿¡å·
        item.internalConfigChanged.connect(function (newConfig) {
            gridPreviewLoader.item.controls = newConfig.controls
            gridPreviewLoader.item.refresh()
        })
    }
}

property var configManager: configManagerLoader.item
```

### çŠ¶æ€ç®¡ç†

#### ä½¿ç”¨ State

```qml
Rectangle {
    id: rect
    width: 100
    height: 100
    color: "blue"
    
    states: [
        State {
            name: "expanded"
            PropertyChanges {
                target: rect
                width: 200
                height: 200
                color: "red"
            }
        }
    ]
    
    transitions: [
        Transition {
            from: ""
            to: "expanded"
            PropertyAnimation {
                properties: "width,height,color"
                duration: 300
            }
        }
    ]
    
    MouseArea {
        anchors.fill: parent
        onClicked: {
            rect.state = rect.state === "expanded" ? "" : "expanded"
        }
    }
}
```

### JavaScript é›†æˆ

#### åœ¨ QML ä¸­ä½¿ç”¨ JavaScript

```qml
Item {
    // å†…è” JavaScript
    function calculateTotal(price, quantity) {
        return price * quantity
    }
    
    // ä½¿ç”¨ JavaScript å¯¹è±¡
    property var userData: ({
        name: "å¼ ä¸‰",
        age: 25,
        email: "zhangsan@example.com"
    })
    
    Component.onCompleted: {
        // ä½¿ç”¨ JSON
        var jsonString = JSON.stringify(userData)
        console.log(jsonString)
        
        var parsed = JSON.parse(jsonString)
        console.log(parsed.name)
    }
}
```

#### æœ¬ç³»ç»Ÿä¸­çš„ ScriptEngine

```qml
// ScriptEngine.qml
function executeFunction(funcCode, context) {
    try {
        // åˆ›å»ºå‡½æ•°æ‰§è¡Œç¯å¢ƒ
        var func = new Function(
            'self', 'formAPI', 'formId', 'formData',
            funcCode
        )
        
        // æ‰§è¡Œå‡½æ•°
        var result = func(
            context.self,
            formAPI,
            formId,
            formData
        )
        
        return result
    } catch (error) {
        console.error("æ‰§è¡Œé”™è¯¯:", error)
    }
}
```

### æœ€ä½³å®è·µ

#### 1. é¿å…å¾ªç¯ä¾èµ–

```qml
// é”™è¯¯ç¤ºä¾‹
Rectangle {
    width: height + 10
    height: width - 10  // å¾ªç¯ä¾èµ–ï¼
}

// æ­£ç¡®ç¤ºä¾‹
Rectangle {
    width: 100
    height: width * 2
}
```

#### 2. ä½¿ç”¨ Loader å»¶è¿ŸåŠ è½½

```qml
// å¯¹äºå¤æ‚ç»„ä»¶ï¼Œä½¿ç”¨ Loader å»¶è¿ŸåŠ è½½
Loader {
    id: complexComponentLoader
    active: false  // åˆå§‹ä¸åŠ è½½
    source: "ComplexComponent.qml"
}

Button {
    text: "æ˜¾ç¤ºå¤æ‚ç»„ä»¶"
    onClicked: {
        complexComponentLoader.active = true
    }
}
```

#### 3. åˆç†ä½¿ç”¨ä¿¡å·

```qml
// ä½¿ç”¨ä¿¡å·è€Œä¸æ˜¯ç›´æ¥è°ƒç”¨
Item {
    signal dataChanged(var newData)
    
    function updateData(data) {
        // å¤„ç†æ•°æ®
        dataChanged(data)  // å‘å‡ºä¿¡å·
    }
}
```

#### 4. æ€§èƒ½ä¼˜åŒ–

```qml
// ä½¿ç”¨ ListView è€Œä¸æ˜¯ Repeater å¤„ç†å¤§é‡æ•°æ®
ListView {
    model: 1000
    delegate: Rectangle {
        width: parent.width
        height: 50
    }
    
    // å¯ç”¨ç¼“å­˜
    cacheBuffer: 500
}
```

---


## ç³»ç»Ÿæ¶æ„å›¾ï¼ˆMermaidï¼‰

### æ•´ä½“æ¶æ„å›¾

```mermaid
graph TB
    subgraph "View Layer è§†å›¾å±‚"
        A[ConfigEditor<br/>é…ç½®ç¼–è¾‘å™¨]
        B[FormPreview<br/>è¡¨å•é¢„è§ˆ]
        C[ControlEditDialog<br/>æ§ä»¶ç¼–è¾‘å¯¹è¯æ¡†]
        D[DynamicList<br/>è¡¨å•åˆ—è¡¨]
        E[DataRecordList<br/>æ•°æ®è®°å½•åˆ—è¡¨]
        F[FunctionHelpDialog<br/>å‡½æ•°å¸®åŠ©å¯¹è¯æ¡†]
    end
    
    subgraph "Controller Layer æ§åˆ¶å±‚"
        G[ConfigManager<br/>é…ç½®ç®¡ç†å™¨]
        H[ControlFactory<br/>æ§ä»¶å·¥å‚]
        I[ScriptEngine<br/>è„šæœ¬æ‰§è¡Œå¼•æ“]
        J[TypeManager<br/>ç±»å‹ç®¡ç†å™¨]
        K[MessageManager<br/>æ¶ˆæ¯ç®¡ç†å™¨]
    end
    
    subgraph "Model Layer æ¨¡å‹å±‚"
        L[FormAPI<br/>è¡¨å•API]
        M[MySqlHelper<br/>æ•°æ®åº“åŠ©æ‰‹]
        N[JSON Config<br/>JSONé…ç½®]
        O[AppStyles<br/>æ ·å¼é…ç½®]
        P[Components<br/>UIç»„ä»¶åº“]
    end
    
    subgraph "Database æ•°æ®åº“"
        Q[(MySQL<br/>dynamicForm<br/>dynamicData)]
    end
    
    A --> G
    A --> H
    B --> H
    B --> I
    C --> G
    H --> L
    I --> L
    I --> M
    L --> M
    M --> Q
    G --> N
    
    style A fill:#e3f2fd
    style B fill:#e3f2fd
    style C fill:#e3f2fd
    style D fill:#e3f2fd
    style E fill:#e3f2fd
    style F fill:#e3f2fd
    style G fill:#fff3cd
    style H fill:#fff3cd
    style I fill:#fff3cd
    style J fill:#fff3cd
    style K fill:#fff3cd
    style L fill:#d4edda
    style M fill:#d4edda
    style N fill:#d4edda
    style O fill:#d4edda
    style P fill:#d4edda
    style Q fill:#f8d7da
```

### æ ¸å¿ƒç±»å›¾

```mermaid
classDiagram
    class ConfigEditor {
        -dynamicNameText: string
        -stackViewRef: Object
        -loaderInstanceRef: Object
        -configManager: ConfigManager
        +initConfigEditor(name, config)
        +connectGridPreviewSignals()
    }
    
    class ConfigManager {
        -currentConfig: Object
        +addControl(type)
        +updateControl(index, config)
        +removeControlAtPosition(row, col)
        +exportConfig() string
        +resetConfig()
        +initializeFromJson(json)
        +getControlIndex(control) number
        <<signal>> internalConfigChanged(config)
    }
    
    class FormPreview {
        -formConfig: Object
        -controlsMap: Object
        -labelsMap: Object
        -formName: string
        -recordId: number
        -dataRecordId: number
        -isEditMode: boolean
        +initForm(id, name, config)
        +initFormForEdit(id, name, config, recordId, data)
        +reloadForm()
        +fillFormData()
    }
    
    class ControlFactory {
        -parentGrid: Object
        -controlsMap: Object
        -labelsMap: Object
        -scriptEngine: ScriptEngine
        -formConfig: Object
        -formAPI: FormAPI
        +createControl(config)
        -_createInput(container, config) Object
        -_createLabel(container, config) Object
        -_applyStyles(input, config)
        -_bindEvents(input, config)
    }
    
    class FormAPI {
        -controlsMap: Object
        -labelsMap: Object
        -controlConfigs: Object
        -validationStates: Object
        -scriptEngine: ScriptEngine
        +getControlValue(key) any
        +setControlValue(key, value)
        +getAllValues() Object
        +resetForm()
        +validateAll() Object
        +isControlValid(key) boolean
        +areControlsValid(keys) boolean
        +enableControl(key)
        +disableControl(key)
        +showControl(key)
        +hideControl(key)
        +focusControl(key)
        +showMessage(message, type)
        +validateEmail(email) boolean
        +validatePhone(phone) boolean
        +validateNumber(text, min, max) boolean
    }
    
    class ScriptEngine {
        -formAPI: FormAPI
        -formId: number
        -dataRecordId: number
        -isEditMode: boolean
        +executeFunction(funcCode, context) any
        +formatDateTime(date) string
        -getMySqlHelper() Object
        -getMessageManager() Object
    }
    
    class MySqlHelper {
        <<singleton>>
        +insert(tableName, data) boolean
        +select(tableName, columns, where) Array
        +update(tableName, data, where) boolean
        +remove(tableName, where) boolean
    }
    
    ConfigEditor "1" --> "1" ConfigManager : contains
    FormPreview "1" --> "1" ControlFactory : uses
    FormPreview "1" --> "1" FormAPI : uses
    FormPreview "1" --> "1" ScriptEngine : uses
    ControlFactory "1" --> "1" FormAPI : uses
    ControlFactory "1" --> "1" ScriptEngine : uses
    FormAPI "1" --> "1" ScriptEngine : uses
    ScriptEngine "1" --> "1" MySqlHelper : uses
    FormAPI "1" --> "1" MySqlHelper : uses
```

### åˆ›å»ºè¡¨å•é…ç½®æ—¶åºå›¾

```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant CE as ConfigEditor
    participant CM as ConfigManager
    participant GP as GridPreview
    participant CT as ControlToolbar
    participant DB as æ•°æ®åº“
    
    U->>CE: æ‰“å¼€ç¼–è¾‘å™¨
    CE->>CM: åˆå§‹åŒ–
    CM-->>CE: åŠ è½½é»˜è®¤é…ç½®
    CE->>GP: åˆ·æ–°é¢„è§ˆ
    
    U->>CT: ç‚¹å‡»æ·»åŠ æ§ä»¶
    CT->>CE: æ§ä»¶è¯·æ±‚ä¿¡å·
    CE->>CM: addControl(type)
    CM->>CM: æ·»åŠ æ§ä»¶åˆ°é…ç½®
    CM-->>CE: é…ç½®å˜åŒ–ä¿¡å·
    CE->>GP: æ›´æ–°é¢„è§ˆ
    
    U->>GP: ç‚¹å‡»æ§ä»¶ç¼–è¾‘
    GP->>CE: æ‰“å¼€ç¼–è¾‘å¯¹è¯æ¡†
    Note over CE: ControlEditDialog
    
    U->>CE: ä¿å­˜æ§ä»¶é…ç½®
    CE->>CM: updateControl(index, config)
    CM-->>CE: é…ç½®å˜åŒ–ä¿¡å·
    CE->>GP: æ›´æ–°é¢„è§ˆ
    
    U->>CE: æäº¤è¡¨å•é…ç½®
    CE->>CM: exportConfig()
    CM-->>CE: è¿”å›JSONå­—ç¬¦ä¸²
    CE->>DB: INSERT INTO dynamicForm
    DB-->>CE: ä¿å­˜æˆåŠŸ
    CE-->>U: æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
```

### è¡¨å•æäº¤æ•°æ®æ—¶åºå›¾

```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant FP as FormPreview
    participant CF as ControlFactory
    participant SE as ScriptEngine
    participant FA as FormAPI
    participant MH as MySqlHelper
    participant DB as æ•°æ®åº“
    
    U->>FP: å¡«å†™è¡¨å•
    FP->>FP: è¾“å…¥æ•°æ®
    
    U->>FP: å¤±å»ç„¦ç‚¹
    FP->>FA: validateControl(key)
    FA->>SE: æ‰§è¡ŒéªŒè¯å‡½æ•°
    SE-->>FA: éªŒè¯ç»“æœ
    FA-->>FP: æ ‡ç­¾æ ‡çº¢/æ¢å¤
    FP-->>U: æ˜¾ç¤ºéªŒè¯ç»“æœ
    
    U->>FP: ç‚¹å‡»æäº¤æŒ‰é’®
    FP->>CF: è§¦å‘clickedäº‹ä»¶
    CF->>SE: executeFunction(funcCode)
    
    SE->>FA: validateAll()
    FA->>FA: éªŒè¯æ‰€æœ‰æ§ä»¶
    FA-->>SE: éªŒè¯ç»“æœ
    
    SE->>FA: getAllValues()
    FA-->>SE: è¿”å›è¡¨å•æ•°æ®
    
    SE->>SE: formatDateTime()
    SE->>SE: å‡†å¤‡æäº¤æ•°æ®
    
    SE->>MH: insert(table, data)
    MH->>DB: INSERT INTO dynamicData
    DB-->>MH: æ‰§è¡ŒæˆåŠŸ
    MH-->>SE: è¿”å›ç»“æœ
    
    SE-->>CF: æ‰§è¡Œå®Œæˆ
    CF-->>FP: æ˜¾ç¤ºç»“æœæ¶ˆæ¯
    FP-->>U: æäº¤æˆåŠŸ
```

### æ•°æ®æµè½¬å›¾

```mermaid
flowchart LR
    A[ç”¨æˆ·æ“ä½œ] --> B{æ“ä½œç±»å‹}
    
    B -->|é…ç½®è¡¨å•| C[ConfigEditor]
    C --> D[ConfigManager]
    D --> E[JSONé…ç½®]
    E --> F[(æ•°æ®åº“<br/>dynamicForm)]
    
    B -->|å¡«å†™è¡¨å•| G[FormPreview]
    G --> H[ControlFactory]
    H --> I[åˆ›å»ºæ§ä»¶]
    I --> J[FormAPI]
    
    B -->|æäº¤æ•°æ®| K[ScriptEngine]
    K --> L[æ‰§è¡ŒéªŒè¯]
    L --> M{éªŒè¯é€šè¿‡?}
    M -->|æ˜¯| N[MySqlHelper]
    M -->|å¦| O[æ˜¾ç¤ºé”™è¯¯]
    N --> P[(æ•°æ®åº“<br/>dynamicData)]
    
    B -->|æŸ¥è¯¢æ•°æ®| Q[DataRecordList]
    Q --> R[MySqlHelper]
    R --> S[(æ•°æ®åº“<br/>dynamicData)]
    S --> T[æ˜¾ç¤ºåˆ—è¡¨]
    
    style A fill:#e3f2fd
    style F fill:#f8d7da
    style P fill:#f8d7da
    style S fill:#f8d7da
    style M fill:#fff3cd
```

### æ§ä»¶åˆ›å»ºæµç¨‹å›¾

```mermaid
flowchart TD
    A[å¼€å§‹åˆ›å»ºæ§ä»¶] --> B[è§£ææ§ä»¶é…ç½®]
    B --> C[åˆ›å»ºè¡Œå¸ƒå±€å®¹å™¨]
    C --> D[è®¾ç½®ç½‘æ ¼ä½ç½®]
    D --> E[åº”ç”¨è¡Œé«˜åˆ—å®½]
    E --> F{æ§ä»¶ç±»å‹}
    
    F -->|text| G[åˆ›å»ºæ–‡æœ¬æ¡†]
    F -->|number| H[åˆ›å»ºæ•°å­—æ¡†]
    F -->|dropdown| I[åˆ›å»ºä¸‹æ‹‰æ¡†]
    F -->|checkbox| J[åˆ›å»ºå¤é€‰æ¡†ç»„]
    F -->|radio| K[åˆ›å»ºå•é€‰æ¡†ç»„]
    F -->|button| L[åˆ›å»ºæŒ‰é’®]
    F -->|password| M[åˆ›å»ºå¯†ç æ¡†]
    
    G --> N[åˆ›å»ºæ ‡ç­¾]
    H --> N
    I --> N
    J --> N
    K --> N
    M --> N
    L --> O[ä¸åˆ›å»ºæ ‡ç­¾]
    
    N --> P[æ³¨å†Œåˆ°controlsMap]
    O --> P
    P --> Q[æ³¨å†Œåˆ°labelsMap]
    Q --> R[æ³¨å†Œæ§ä»¶é…ç½®]
    R --> S[åº”ç”¨æ ·å¼]
    S --> T[ç»‘å®šäº‹ä»¶]
    T --> U[å®Œæˆåˆ›å»º]
    
    style A fill:#d4edda
    style U fill:#d4edda
    style F fill:#fff3cd
```

### éªŒè¯æµç¨‹å›¾

```mermaid
flowchart TD
    A[è§¦å‘éªŒè¯] --> B{éªŒè¯ç±»å‹}
    
    B -->|å•ä¸ªæ§ä»¶| C[validateControl]
    B -->|æ‰€æœ‰æ§ä»¶| D[validateAll]
    
    C --> E[è·å–æ§ä»¶å€¼]
    E --> F{æœ‰éªŒè¯å‡½æ•°?}
    F -->|æ˜¯| G[æ‰§è¡ŒéªŒè¯å‡½æ•°]
    F -->|å¦| H[éªŒè¯é€šè¿‡]
    
    G --> I{è¿”å›å€¼}
    I -->|false| J[éªŒè¯å¤±è´¥]
    I -->|true/undefined| H
    
    J --> K[æ ‡ç­¾æ ‡çº¢]
    H --> L[æ ‡ç­¾æ¢å¤]
    
    K --> M[æ›´æ–°éªŒè¯çŠ¶æ€ç¼“å­˜]
    L --> M
    
    D --> N[éå†æ‰€æœ‰æ§ä»¶]
    N --> O[è°ƒç”¨validateControl]
    O --> P{æ‰€æœ‰é€šè¿‡?}
    P -->|æ˜¯| Q[è¿”å›valid:true]
    P -->|å¦| R[æ”¶é›†é”™è¯¯ä¿¡æ¯]
    R --> S[æ˜¾ç¤ºé”™è¯¯æ±‡æ€»]
    S --> T[èšç„¦ç¬¬ä¸€ä¸ªé”™è¯¯]
    T --> U[è¿”å›valid:false]
    
    style J fill:#f8d7da
    style H fill:#d4edda
    style Q fill:#d4edda
    style U fill:#f8d7da
```

---


## å®Œæ•´ç±»å›¾ï¼ˆMermaidï¼‰

```mermaid
classDiagram
    %% View Layer
    class ConfigEditor {
        <<View>>
        -dynamicNameText: string
        -stackViewRef: Object
        -loaderInstanceRef: Object
        -configManager: ConfigManager
        +initConfigEditor(name, config)
        +connectGridPreviewSignals()
    }
    
    class FormPreview {
        <<View>>
        -formConfig: Object
        -controlsMap: Object
        -labelsMap: Object
        -stackViewRef: Object
        -loaderInstanceRef: Object
        -formName: string
        -recordId: number
        -dataRecordId: number
        -initialData: Object
        -isEditMode: boolean
        +initForm(id, name, config)
        +initFormForEdit(id, name, config, recordId, data)
        +reloadForm()
        +fillFormData()
    }
    
    class ControlEditDialog {
        <<View>>
        -editIndex: number
        -editConfig: Object
        -gridConfig: Object
        +refreshFields()
        +buildControlConfig() Object
        <<signal>> controlSaved(index, config)
    }
    
    class DynamicList {
        <<View>>
        -stackViewRef: Object
        -loaderInstanceRef: Object
        +getData()
    }
    
    class DataRecordList {
        <<View>>
        -stackViewRef: Object
        -loaderInstanceRef: Object
        -formId: number
        -formName: string
        -formConfig: Object
        +initPage(id, name, config)
        +loadData()
        +formatDisplayTime(timeStr) string
    }
    
    class FunctionHelpDialog {
        <<View>>
        -currentEventType: string
        -currentEventCode: string
        +insertFunction(code)
        +getEventDescription() string
        +showFocusLostHelp(eventCode)
        +showClickedEventHelp(eventCode)
        +showChangeEventHelp(controlType, eventCode)
        <<signal>> functionSaved(eventType, code)
    }
    
    %% Controller Layer
    class ConfigManager {
        <<Controller>>
        -currentConfig: Object
        +addControl(type)
        +updateControl(index, config)
        +removeControlAtPosition(row, col)
        +exportConfig() string
        +resetConfig()
        +initializeFromJson(json)
        +getControlIndex(control) number
        <<signal>> internalConfigChanged(config)
    }
    
    class ControlFactory {
        <<Controller>>
        -parentGrid: Object
        -controlsMap: Object
        -labelsMap: Object
        -scriptEngine: ScriptEngine
        -formConfig: Object
        -formAPI: FormAPI
        -rowLayoutComponent: Component
        -labelComponent: Component
        -textFieldComponent: Component
        -spinBoxComponent: Component
        -comboBoxComponent: Component
        -buttonComponent: Component
        +createControl(config)
        -_createInput(container, config) Object
        -_createLabel(container, config) Object
        -_applyStyles(input, config)
        -_bindEvents(input, config)
        -_setRowHeight(container, config)
        -_setColumnWidth(container, config)
        -_setupDropdownOptions(comboBox, config)
        -_createCheckboxGroup(container, config) Object
        -_createRadioGroup(container, config) Object
    }
    
    class ScriptEngine {
        <<Controller>>
        -formAPI: FormAPI
        -formId: number
        -dataRecordId: number
        -isEditMode: boolean
        +executeFunction(funcCode, context) any
        +formatDateTime(date) string
        -getMySqlHelper() Object
        -getMessageManager() Object
    }
    
    class TypeManager {
        <<Controller>>
        -controlTypes: Array
        +hasTypeSpecificProps(type) boolean
        +getTypeInfo(type) Object
    }
    
    class MessageManager {
        <<Controller>>
        <<singleton>>
        +showToast(message, type)
        +showDialog(message, type, callback)
    }
    
    %% Model Layer
    class FormAPI {
        <<Model>>
        -controlsMap: Object
        -labelsMap: Object
        -controlConfigs: Object
        -validationStates: Object
        -scriptEngine: ScriptEngine
        +getControlValue(key) any
        +setControlValue(key, value)
        +getControlText(key) string
        +setControlText(key, text)
        +getAllValues() Object
        +resetForm()
        +resetControl(key)
        +validateAll() Object
        +validateControl(key, showError, markLabel) Object
        +isControlValid(key) boolean
        +areControlsValid(keys) boolean
        +registerControlConfig(key, config)
        +enableControl(key)
        +disableControl(key)
        +showControl(key)
        +hideControl(key)
        +focusControl(key)
        +setControlColor(key, color)
        +showMessage(message, type)
        +validateRegex(value, pattern, errorMessage) boolean
        +validateEmail(email) boolean
        +validatePhone(phone) boolean
        +validateIdCard(idCard) boolean
        +validateChinese(text) boolean
        +validateNumber(text, min, max) boolean
        +getValidationState(key) Object
        +clearValidationState(key)
    }
    
    class MySqlHelper {
        <<Model>>
        <<singleton>>
        +insert(tableName, data) boolean
        +select(tableName, columns, where) Array~QVariantMap~
        +update(tableName, data, where) boolean
        +remove(tableName, where) boolean
    }
    
    class AppStyles {
        <<Model>>
        <<singleton>>
        +backgroundColor: color
        +surfaceColor: color
        +primaryColor: color
        +textPrimary: color
        +textSecondary: color
        +borderColor: color
        +spacingSmall: number
        +spacingMedium: number
        +spacingLarge: number
        +spacingXLarge: number
        +paddingSmall: number
        +paddingMedium: number
        +radiusSmall: number
        +radiusMedium: number
        +radiusLarge: number
        +fontSizeSmall: number
        +fontSizeMedium: number
        +fontSizeLarge: number
        +fontSizeTitle: number
        +controlHeightSmall: number
        +controlHeightMedium: number
        +controlHeightLarge: number
        +cardPadding: number
        +cardRadius: number
        +cardBorderWidth: number
    }
    
    %% Components
    class StyledButton {
        <<Component>>
        -buttonType: string
        +text: string
        +enabled: boolean
        <<signal>> clicked()
    }
    
    class StyledTextField {
        <<Component>>
        +text: string
        +placeholderText: string
        +enabled: boolean
        <<signal>> textChanged()
        <<signal>> focusChanged()
    }
    
    class StyledSpinBox {
        <<Component>>
        +value: number
        +from: number
        +to: number
        +stepSize: number
        +enabled: boolean
        <<signal>> valueChanged()
    }
    
    class StyledComboBox {
        <<Component>>
        +model: Array
        +currentIndex: number
        +currentText: string
        +enabled: boolean
        <<signal>> currentIndexChanged()
    }
    
    class StyledLabel {
        <<Component>>
        +text: string
        +color: color
        +font: Font
    }
    
    %% Relationships
    ConfigEditor "1" --> "1" ConfigManager : contains
    ConfigEditor "1" --> "1" ControlEditDialog : uses
    
    FormPreview "1" --> "1" ControlFactory : uses
    FormPreview "1" --> "1" FormAPI : uses
    FormPreview "1" --> "1" ScriptEngine : uses
    
    ControlEditDialog "1" --> "1" FunctionHelpDialog : uses
    ControlEditDialog "1" --> "1" TypeManager : uses
    
    ControlFactory "1" --> "1" FormAPI : uses
    ControlFactory "1" --> "1" ScriptEngine : uses
    ControlFactory ..> StyledButton : creates
    ControlFactory ..> StyledTextField : creates
    ControlFactory ..> StyledSpinBox : creates
    ControlFactory ..> StyledComboBox : creates
    ControlFactory ..> StyledLabel : creates
    
    FormAPI "1" --> "1" ScriptEngine : uses
    FormAPI "1" --> "1" MessageManager : uses
    
    ScriptEngine "1" --> "1" MySqlHelper : uses
    ScriptEngine "1" --> "1" MessageManager : uses
    ScriptEngine "1" --> "1" FormAPI : uses
    
    DynamicList "1" --> "1" MySqlHelper : uses
    DynamicList "1" --> "1" MessageManager : uses
    
    DataRecordList "1" --> "1" MySqlHelper : uses
    DataRecordList "1" --> "1" MessageManager : uses
    
    %% Styling
    class View {
        <<interface>>
    }
    class Controller {
        <<interface>>
    }
    class Model {
        <<interface>>
    }
    class Component {
        <<interface>>
    }
```

---

## API å®Œæ•´å‚è€ƒæ‰‹å†Œ

### 1. åŸºç¡€å˜é‡

| å˜é‡å | ç±»å‹ | ä½œç”¨åŸŸ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|--------|------|------|
| `self` | Object | äº‹ä»¶å‡½æ•° | å½“å‰è§¦å‘äº‹ä»¶çš„æ§ä»¶å¯¹è±¡ | `self.value` |
| `value` | any | éªŒè¯å‡½æ•° | å½“å‰æ§ä»¶çš„å€¼ | `if (value.length < 3) { ... }` |
| `formId` | number | äº‹ä»¶å‡½æ•° | è¡¨å•IDï¼Œç”¨äºæ ‡è¯†å½“å‰è¡¨å• | `formId` |
| `formData` | Object | äº‹ä»¶å‡½æ•° | è¡¨å•æ‰€æœ‰æ•°æ®çš„JSONå¯¹è±¡ | `formData.username` |
| `isEditMode` | boolean | äº‹ä»¶å‡½æ•° | æ˜¯å¦ä¸ºç¼–è¾‘æ¨¡å¼ | `if (isEditMode) { ... }` |
| `dataRecordId` | number | äº‹ä»¶å‡½æ•° | æ•°æ®è®°å½•IDï¼ˆä»…ç¼–è¾‘æ¨¡å¼æœ‰æ•ˆï¼‰ | `dataRecordId` |

### 2. è·å–æ§ä»¶å€¼å‡½æ•°

#### getAllValues()

**åŠŸèƒ½**ï¼šè·å–è¡¨å•ä¸­æ‰€æœ‰æ§ä»¶çš„å€¼ï¼ˆä¸åŒ…æ‹¬æŒ‰é’®ï¼‰

**å‚æ•°**ï¼šæ— 

**è¿”å›å€¼**ï¼š`Object` - é”®å€¼å¯¹å¯¹è±¡ï¼Œkey ä¸ºæ§ä»¶çš„ keyï¼Œvalue ä¸ºæ§ä»¶çš„å€¼

**ç¤ºä¾‹**ï¼š
```javascript
var allData = getAllValues();
console.log('è¡¨å•æ•°æ®:', JSON.stringify(allData));
// è¾“å‡º: {"username":"å¼ ä¸‰","age":25,"email":"zhangsan@example.com"}
```

#### getControlValue(key)

**åŠŸèƒ½**ï¼šè·å–æŒ‡å®šæ§ä»¶çš„å€¼

**å‚æ•°**ï¼š
- `key` (string) - æ§ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦

**è¿”å›å€¼**ï¼š`any` - æ§ä»¶çš„å€¼ï¼Œå¦‚æœæ§ä»¶ä¸å­˜åœ¨è¿”å›ç©ºå­—ç¬¦ä¸²

**ç¤ºä¾‹**ï¼š
```javascript
var username = getControlValue('username');
var age = getControlValue('age');
console.log('ç”¨æˆ·å:', username, 'å¹´é¾„:', age);
```

### 3. è®¾ç½®æ§ä»¶å€¼å‡½æ•°

#### setControlValue(key, value)

**åŠŸèƒ½**ï¼šè®¾ç½®æŒ‡å®šæ§ä»¶çš„å€¼

**å‚æ•°**ï¼š
- `key` (string) - æ§ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦
- `value` (any) - è¦è®¾ç½®çš„å€¼

**è¿”å›å€¼**ï¼šæ— 

**ç¤ºä¾‹**ï¼š
```javascript
setControlValue('username', 'å¼ ä¸‰');
setControlValue('age', 25);
setControlValue('gender', 'male'); // ä¸‹æ‹‰æ¡†ä¼šè‡ªåŠ¨é€‰ä¸­å¯¹åº”çš„é€‰é¡¹
```

#### resetControl(key)

**åŠŸèƒ½**ï¼šå°†æŒ‡å®šæ§ä»¶é‡ç½®ä¸ºé»˜è®¤å€¼

**å‚æ•°**ï¼š
- `key` (string) - æ§ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦

**è¿”å›å€¼**ï¼šæ— 

**è¯´æ˜**ï¼š
- æ–‡æœ¬æ¡†é‡ç½®ä¸ºç©ºå­—ç¬¦ä¸²
- æ•°å­—æ¡†é‡ç½®ä¸º 0
- å¤é€‰æ¡†é‡ç½®ä¸ºæœªé€‰ä¸­
- ä¸‹æ‹‰æ¡†é‡ç½®ä¸ºç¬¬ä¸€é¡¹

**ç¤ºä¾‹**ï¼š
```javascript
resetControl('username'); // æ¸…ç©ºç”¨æˆ·åè¾“å…¥æ¡†
```

#### resetForm()

**åŠŸèƒ½**ï¼šé‡ç½®è¡¨å•ä¸­æ‰€æœ‰æ§ä»¶ï¼ˆä¸åŒ…æ‹¬æŒ‰é’®ï¼‰

**å‚æ•°**ï¼šæ— 

**è¿”å›å€¼**ï¼šæ— 

**ç¤ºä¾‹**ï¼š
```javascript
// æäº¤æˆåŠŸåé‡ç½®è¡¨å•
MySqlHelper.insert('users', userData);
showMessage('æäº¤æˆåŠŸï¼', 'success');
resetForm(); // æ¸…ç©ºæ‰€æœ‰è¾“å…¥æ¡†
```

### 4. æ§ä»¶çŠ¶æ€æ§åˆ¶å‡½æ•°

#### enableControl(key)

**åŠŸèƒ½**ï¼šå¯ç”¨æ§ä»¶ï¼ˆå¯ç¼–è¾‘/å¯ç‚¹å‡»ï¼‰

**å‚æ•°**ï¼š
- `key` (string) - æ§ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦

**è¿”å›å€¼**ï¼šæ— 

**ç¤ºä¾‹**ï¼š
```javascript
enableControl('submit_btn');
```

#### disableControl(key)

**åŠŸèƒ½**ï¼šç¦ç”¨æ§ä»¶ï¼ˆä¸å¯ç¼–è¾‘/ä¸å¯ç‚¹å‡»ï¼‰

**å‚æ•°**ï¼š
- `key` (string) - æ§ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦

**è¿”å›å€¼**ï¼šæ— 

**ç¤ºä¾‹**ï¼š
```javascript
// æ ¹æ®å¤é€‰æ¡†çŠ¶æ€å¯ç”¨/ç¦ç”¨æäº¤æŒ‰é’®
var agreed = getControlValue('agree_checkbox');
if (agreed) {
    enableControl('submit_btn');
} else {
    disableControl('submit_btn');
}
```

#### showControl(key)

**åŠŸèƒ½**ï¼šæ˜¾ç¤ºæ§ä»¶

**å‚æ•°**ï¼š
- `key` (string) - æ§ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦

**è¿”å›å€¼**ï¼šæ— 

**ç¤ºä¾‹**ï¼š
```javascript
showControl('university');
```

#### hideControl(key)

**åŠŸèƒ½**ï¼šéšè—æ§ä»¶

**å‚æ•°**ï¼š
- `key` (string) - æ§ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦

**è¿”å›å€¼**ï¼šæ— 

**ç¤ºä¾‹**ï¼š
```javascript
// æ ¹æ®å­¦å†æ˜¾ç¤º/éšè—ç›¸å…³å­—æ®µ
var education = getControlValue('education');
if (education === 'high_school') {
    hideControl('university');
    hideControl('major');
} else {
    showControl('university');
    showControl('major');
}
```

#### focusControl(key)

**åŠŸèƒ½**ï¼šè®©æŒ‡å®šæ§ä»¶è·å¾—ç„¦ç‚¹

**å‚æ•°**ï¼š
- `key` (string) - æ§ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦

**è¿”å›å€¼**ï¼šæ— 

**ç¤ºä¾‹**ï¼š
```javascript
// éªŒè¯å¤±è´¥åèšç„¦åˆ°é”™è¯¯å­—æ®µ
if (!validateEmail(getControlValue('email'))) {
    focusControl('email');
    return false;
}
```

### 5. éªŒè¯å‡½æ•°

#### validateAll()

**åŠŸèƒ½**ï¼šéªŒè¯è¡¨å•ä¸­æ‰€æœ‰é…ç½®äº†éªŒè¯å‡½æ•°çš„æ§ä»¶

**å‚æ•°**ï¼šæ— 

**è¿”å›å€¼**ï¼š`Object` - `{valid: boolean, errors: Array}`
- `valid`: æ˜¯å¦å…¨éƒ¨é€šè¿‡
- `errors`: é”™è¯¯åˆ—è¡¨ï¼Œæ¯ä¸ªé”™è¯¯åŒ…å« `{key, label, message}`

**è¯´æ˜**ï¼š
- éªŒè¯å¤±è´¥çš„æ§ä»¶æ ‡ç­¾ä¼šè‡ªåŠ¨æ ‡çº¢
- è‡ªåŠ¨æ˜¾ç¤ºé”™è¯¯æç¤ºæ¶ˆæ¯
- è‡ªåŠ¨èšç„¦åˆ°ç¬¬ä¸€ä¸ªé”™è¯¯å­—æ®µ

**ç¤ºä¾‹**ï¼š
```javascript
var validation = validateAll();
if (!validation.valid) {
    // éªŒè¯å¤±è´¥ï¼Œå·²è‡ªåŠ¨æç¤ºé”™è¯¯
    return;
}
// éªŒè¯é€šè¿‡ï¼Œç»§ç»­æäº¤
MySqlHelper.insert('users', formData);
```

#### formAPI.isControlValid(key)

**åŠŸèƒ½**ï¼šæ£€æŸ¥å•ä¸ªæ§ä»¶æ˜¯å¦éªŒè¯é€šè¿‡

**å‚æ•°**ï¼š
- `key` (string) - æ§ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦

**è¿”å›å€¼**ï¼š`boolean` - true è¡¨ç¤ºéªŒè¯é€šè¿‡ï¼Œfalse è¡¨ç¤ºéªŒè¯å¤±è´¥æˆ–æœªéªŒè¯

**è¯´æ˜**ï¼šå¿…é¡»å…ˆæ‰§è¡Œè¿‡éªŒè¯ï¼ˆç„¦ç‚¹ä¸¢å¤±æˆ– validateAllï¼‰æ‰æœ‰æ•ˆ

**ç¤ºä¾‹**ï¼š
```javascript
if (formAPI.isControlValid('email')) {
    console.log('é‚®ç®±éªŒè¯é€šè¿‡');
} else {
    showMessage('è¯·å…ˆéªŒè¯é‚®ç®±', 'warning');
}
```

#### formAPI.areControlsValid(keys)

**åŠŸèƒ½**ï¼šæ£€æŸ¥å¤šä¸ªæ§ä»¶æ˜¯å¦éƒ½éªŒè¯é€šè¿‡

**å‚æ•°**ï¼š
- `keys` (Array<string>) - æ§ä»¶ key çš„æ•°ç»„

**è¿”å›å€¼**ï¼š`boolean` - æ‰€æœ‰æŒ‡å®šçš„æ§ä»¶éƒ½éªŒè¯é€šè¿‡æ‰è¿”å› true

**ç¤ºä¾‹**ï¼š
```javascript
// æ£€æŸ¥å¿…å¡«é¡¹æ˜¯å¦éƒ½éªŒè¯é€šè¿‡
if (formAPI.areControlsValid(['name', 'age', 'email'])) {
    // æ‰€æœ‰å¿…å¡«é¡¹éƒ½éªŒè¯é€šè¿‡ï¼Œå¯ä»¥æŸ¥è¯¢æ•°æ®åº“
    var result = MySqlHelper.select('users', ['*'], 'name="' + getControlValue('name') + '"');
} else {
    showMessage('è¯·å…ˆå®Œæˆæ‰€æœ‰å¿…å¡«é¡¹', 'warning');
}
```

#### validateEmail(email)

**åŠŸèƒ½**ï¼šéªŒè¯é‚®ç®±æ ¼å¼æ˜¯å¦æ­£ç¡®

**å‚æ•°**ï¼š
- `email` (string) - è¦éªŒè¯çš„é‚®ç®±åœ°å€

**è¿”å›å€¼**ï¼š`boolean` - true è¡¨ç¤ºæ ¼å¼æ­£ç¡®ï¼Œfalse è¡¨ç¤ºæ ¼å¼é”™è¯¯

**è¯´æ˜**ï¼šéªŒè¯å¤±è´¥è‡ªåŠ¨æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯"è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€"

**ç¤ºä¾‹**ï¼š
```javascript
// åœ¨éªŒè¯å‡½æ•°ä¸­ä½¿ç”¨
if (!validateEmail(value)) {
    return false;
}
```

#### validatePhone(phone)

**åŠŸèƒ½**ï¼šéªŒè¯ä¸­å›½å¤§é™†æ‰‹æœºå·æ ¼å¼ï¼ˆ11ä½ï¼Œ1å¼€å¤´ï¼‰

**å‚æ•°**ï¼š
- `phone` (string) - è¦éªŒè¯çš„æ‰‹æœºå·

**è¿”å›å€¼**ï¼š`boolean` - true è¡¨ç¤ºæ ¼å¼æ­£ç¡®ï¼Œfalse è¡¨ç¤ºæ ¼å¼é”™è¯¯

**è¯´æ˜**ï¼šéªŒè¯å¤±è´¥è‡ªåŠ¨æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯"è¯·è¾“å…¥æœ‰æ•ˆçš„æ‰‹æœºå·ç "

**ç¤ºä¾‹**ï¼š
```javascript
if (!validatePhone(value)) {
    return false;
}
```

#### validateIdCard(idCard)

**åŠŸèƒ½**ï¼šéªŒè¯ä¸­å›½å¤§é™†èº«ä»½è¯å·æ ¼å¼ï¼ˆ18ä½ï¼‰

**å‚æ•°**ï¼š
- `idCard` (string) - è¦éªŒè¯çš„èº«ä»½è¯å·

**è¿”å›å€¼**ï¼š`boolean` - true è¡¨ç¤ºæ ¼å¼æ­£ç¡®ï¼Œfalse è¡¨ç¤ºæ ¼å¼é”™è¯¯

**è¯´æ˜**ï¼šéªŒè¯å¤±è´¥è‡ªåŠ¨æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯"è¯·è¾“å…¥æœ‰æ•ˆçš„èº«ä»½è¯å·ç "

**ç¤ºä¾‹**ï¼š
```javascript
if (!validateIdCard(value)) {
    return false;
}
```

#### validateNumber(text, min, max)

**åŠŸèƒ½**ï¼šéªŒè¯æ•°å­—æ˜¯å¦åœ¨æŒ‡å®šèŒƒå›´å†…

**å‚æ•°**ï¼š
- `text` (string) - è¦éªŒè¯çš„æ•°å­—å­—ç¬¦ä¸²
- `min` (number, å¯é€‰) - æœ€å°å€¼
- `max` (number, å¯é€‰) - æœ€å¤§å€¼

**è¿”å›å€¼**ï¼š`boolean` - true è¡¨ç¤ºéªŒè¯é€šè¿‡ï¼Œfalse è¡¨ç¤ºéªŒè¯å¤±è´¥

**è¯´æ˜**ï¼šéªŒè¯å¤±è´¥è‡ªåŠ¨æ˜¾ç¤ºç›¸åº”çš„é”™è¯¯æ¶ˆæ¯

**ç¤ºä¾‹**ï¼š
```javascript
// éªŒè¯å¹´é¾„åœ¨ 18-65 ä¹‹é—´
if (!validateNumber(value, 18, 65)) {
    return false;
}
```

#### validateRegex(value, pattern, errorMessage)

**åŠŸèƒ½**ï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼éªŒè¯

**å‚æ•°**ï¼š
- `value` (string) - è¦éªŒè¯çš„å€¼
- `pattern` (string) - æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ï¼ˆJavaScript è¯­æ³•ï¼‰
- `errorMessage` (string) - éªŒè¯å¤±è´¥æ—¶çš„æç¤ºæ¶ˆæ¯

**è¿”å›å€¼**ï¼š`boolean` - true è¡¨ç¤ºåŒ¹é…æˆåŠŸï¼Œfalse è¡¨ç¤ºåŒ¹é…å¤±è´¥

**ç¤ºä¾‹**ï¼š
```javascript
// éªŒè¯é‚®æ”¿ç¼–ç ï¼ˆ6ä½æ•°å­—ï¼‰
if (!validateRegex(value, '^\\d{6}$', 'è¯·è¾“å…¥6ä½æ•°å­—çš„é‚®æ”¿ç¼–ç ')) {
    return false;
}
```

### 6. æ¶ˆæ¯æç¤ºå‡½æ•°

#### showMessage(message, type)

**åŠŸèƒ½**ï¼šåœ¨ç•Œé¢ä¸Šæ˜¾ç¤ºæ¶ˆæ¯æç¤º

**å‚æ•°**ï¼š
- `message` (string) - æ¶ˆæ¯å†…å®¹
- `type` (string) - æ¶ˆæ¯ç±»å‹ï¼Œå¯é€‰å€¼ï¼š
  - `'info'` - ä¿¡æ¯æç¤ºï¼ˆè“è‰²ï¼‰
  - `'success'` - æˆåŠŸæç¤ºï¼ˆç»¿è‰²ï¼‰
  - `'warning'` - è­¦å‘Šæç¤ºï¼ˆé»„è‰²ï¼‰
  - `'error'` - é”™è¯¯æç¤ºï¼ˆçº¢è‰²ï¼‰

**è¿”å›å€¼**ï¼šæ— 

**ç¤ºä¾‹**ï¼š
```javascript
showMessage('è¿™æ˜¯ä¸€æ¡ä¿¡æ¯', 'info');
showMessage('æ“ä½œæˆåŠŸï¼', 'success');
showMessage('è¯·æ³¨æ„æ£€æŸ¥', 'warning');
showMessage('æ“ä½œå¤±è´¥', 'error');
```

### 7. å·¥å…·å‡½æ•°

#### formatDateTime(date)

**åŠŸèƒ½**ï¼šå°† JavaScript Date å¯¹è±¡æ ¼å¼åŒ–ä¸º MySQL DATETIME æ ¼å¼

**å‚æ•°**ï¼š
- `date` (Date, å¯é€‰) - Date å¯¹è±¡ï¼Œå¦‚æœä¸ä¼ åˆ™ä½¿ç”¨å½“å‰æ—¶é—´

**è¿”å›å€¼**ï¼š`string` - æ ¼å¼åŒ–åçš„æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²ï¼Œæ ¼å¼ä¸º `'YYYY-MM-DD HH:MM:SS'`

**è¯´æ˜**ï¼šæäº¤åˆ°æ•°æ®åº“çš„ DATETIME å­—æ®µå¿…é¡»ä½¿ç”¨æ­¤å‡½æ•°æ ¼å¼åŒ–

**ç¤ºä¾‹**ï¼š
```javascript
// è·å–å½“å‰æ—¶é—´
var now = formatDateTime();
console.log(now); // è¾“å‡º: '2025-11-18 13:31:33'

// æ ¼å¼åŒ–æŒ‡å®šæ—¥æœŸ
var customDate = new Date('2025-01-01');
var formatted = formatDateTime(customDate);
console.log(formatted); // è¾“å‡º: '2025-01-01 00:00:00'

// æäº¤åˆ°æ•°æ®åº“
var submitData = {
    username: getControlValue('username'),
    email: getControlValue('email'),
    createTime: formatDateTime() // ä½¿ç”¨æ ¼å¼åŒ–çš„å½“å‰æ—¶é—´
};
MySqlHelper.insert('users', submitData);
```

### 8. æ•°æ®åº“æ“ä½œå‡½æ•°

#### MySqlHelper.insert(tableName, data)

**åŠŸèƒ½**ï¼šå‘æ•°æ®åº“è¡¨æ’å…¥ä¸€æ¡æ–°è®°å½•

**å‚æ•°**ï¼š
- `tableName` (string) - è¡¨å
- `data` (Object) - è¦æ’å…¥çš„æ•°æ®ï¼ˆé”®å€¼å¯¹ï¼‰

**è¿”å›å€¼**ï¼š`boolean` - true è¡¨ç¤ºæ’å…¥æˆåŠŸï¼Œfalse è¡¨ç¤ºå¤±è´¥

**æ³¨æ„**ï¼šDATETIME å­—æ®µå¿…é¡»ä½¿ç”¨ `formatDateTime()` æ ¼å¼åŒ–

**ç¤ºä¾‹**ï¼š
```javascript
var userData = {
    username: getControlValue('username'),
    email: getControlValue('email'),
    age: getControlValue('age'),
    createTime: formatDateTime()
};

try {
    var result = MySqlHelper.insert('users', userData);
    if (result) {
        showMessage('æ³¨å†ŒæˆåŠŸï¼', 'success');
        resetForm();
    } else {
        showMessage('æ³¨å†Œå¤±è´¥', 'error');
    }
} catch(e) {
    showMessage('æ³¨å†Œå¤±è´¥: ' + e, 'error');
    console.error('Insert error:', e);
}
```

#### MySqlHelper.select(tableName, columns, where)

**åŠŸèƒ½**ï¼šä»æ•°æ®åº“è¡¨æŸ¥è¯¢æ•°æ®

**å‚æ•°**ï¼š
- `tableName` (string) - è¡¨å
- `columns` (Array) - è¦æŸ¥è¯¢çš„åˆ—ï¼Œ`['*']` è¡¨ç¤ºæŸ¥è¯¢æ‰€æœ‰åˆ—
- `where` (string) - WHERE æ¡ä»¶ï¼Œç©ºå­—ç¬¦ä¸² `""` è¡¨ç¤ºæ— æ¡ä»¶

**è¿”å›å€¼**ï¼š`Array` - æŸ¥è¯¢ç»“æœæ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºä¸€è¡Œæ•°æ®

**ç¤ºä¾‹**ï¼š
```javascript
// æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·
var allUsers = MySqlHelper.select('users', ['*'], '');
console.log('æ‰€æœ‰ç”¨æˆ·:', JSON.stringify(allUsers));

// æ ¹æ®æ¡ä»¶æŸ¥è¯¢
var username = getControlValue('username');
var result = MySqlHelper.select('users', ['*'], 'username="' + username + '"');
if (result.length > 0) {
    var user = result[0];
    showMessage('æ‰¾åˆ°ç”¨æˆ·ï¼š' + user.email, 'success');
} else {
    showMessage('ç”¨æˆ·ä¸å­˜åœ¨', 'warning');
}

// æŸ¥è¯¢ç‰¹å®šåˆ—
var result = MySqlHelper.select('users', ['id', 'username', 'email'], 'age > 18');
```

#### MySqlHelper.update(tableName, data, where)

**åŠŸèƒ½**ï¼šæ›´æ–°æ•°æ®åº“è¡¨ä¸­çš„è®°å½•

**å‚æ•°**ï¼š
- `tableName` (string) - è¡¨å
- `data` (Object) - è¦æ›´æ–°çš„æ•°æ®ï¼ˆé”®å€¼å¯¹ï¼‰
- `where` (string) - WHERE æ¡ä»¶ï¼ŒæŒ‡å®šè¦æ›´æ–°å“ªäº›è®°å½•

**è¿”å›å€¼**ï¼š`boolean` - true è¡¨ç¤ºæ›´æ–°æˆåŠŸï¼Œfalse è¡¨ç¤ºå¤±è´¥

**ç¤ºä¾‹**ï¼š
```javascript
var updateData = {
    email: getControlValue('email'),
    age: getControlValue('age')
};

var userId = 1;
var where = 'id=' + userId;

try {
    var result = MySqlHelper.update('users', updateData, where);
    if (result) {
        showMessage('æ›´æ–°æˆåŠŸï¼', 'success');
    } else {
        showMessage('æ›´æ–°å¤±è´¥', 'error');
    }
} catch(e) {
    showMessage('æ›´æ–°å¤±è´¥: ' + e, 'error');
}
```

#### MySqlHelper.remove(tableName, where)

**åŠŸèƒ½**ï¼šä»æ•°æ®åº“è¡¨åˆ é™¤è®°å½•

**å‚æ•°**ï¼š
- `tableName` (string) - è¡¨å
- `where` (string) - WHERE æ¡ä»¶ï¼ŒæŒ‡å®šè¦åˆ é™¤å“ªäº›è®°å½•

**è¿”å›å€¼**ï¼š`boolean` - true è¡¨ç¤ºåˆ é™¤æˆåŠŸï¼Œfalse è¡¨ç¤ºå¤±è´¥

**è­¦å‘Š**ï¼šå¦‚æœ where ä¸ºç©ºï¼Œä¼šåˆ é™¤è¡¨ä¸­æ‰€æœ‰æ•°æ®

**ç¤ºä¾‹**ï¼š
```javascript
var userId = getControlValue('user_id');
var where = 'id=' + userId;

try {
    var result = MySqlHelper.remove('users', where);
    if (result) {
        showMessage('åˆ é™¤æˆåŠŸï¼', 'success');
    } else {
        showMessage('åˆ é™¤å¤±è´¥', 'error');
    }
} catch(e) {
    showMessage('åˆ é™¤å¤±è´¥: ' + e, 'error');
}
```

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv3.0  
**æœ€åæ›´æ–°**ï¼š2025-11-18  
**ä½œè€…**ï¼šDynamic Form QML Team  
**é€‚ç”¨äº**ï¼šå¼€å‘æ–‡æ¡£ã€æŠ€æœ¯æ±‡æŠ¥ã€ç”¨æˆ·æ‰‹å†Œ
