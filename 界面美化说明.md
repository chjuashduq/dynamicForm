# 界面美化说明

## 已创建的美化组件

### 1. 样式系统
- **AppStyles.qml** - 全局样式配置（单例模式）
  - 颜色配置（主色调、强调色、背景色等）
  - 尺寸配置（圆角、间距、内边距等）
  - 字体配置
  - 控件高度配置

### 2. 美化组件

#### StyledTextField - 美化的文本输入框
- 统一的高度和内边距
- 聚焦时边框高亮
- 错误状态支持（红色边框）
- 平滑的动画过渡

#### StyledButton - 美化的按钮
- 三种类型：primary（主要）、secondary（次要）、danger（危险）
- 悬停和按下状态
- 统一的圆角和内边距
- 平滑的颜色过渡动画

#### StyledLabel - 美化的标签
- 统一的字体大小和颜色
- 垂直居中对齐
- 文本溢出省略

#### StyledComboBox - 美化的下拉框
- 统一的样式和高度
- 聚焦时边框高亮
- 美化的下拉列表
- 自定义的下拉箭头

#### StyledSpinBox - 美化的数字输入框
- 美化的增减按钮
- 统一的样式和高度
- 聚焦时边框高亮
- 平滑的动画过渡

## 颜色方案

### 主色调
- **主色调**：#667eea（紫色）
- **主色调深色**：#5568d3
- **主色调浅色**：#7c8ef5

### 功能色
- **成功色**：#48bb78（绿色）
- **危险色**：#f56565（红色）
- **警告色**：#ed8936（橙色）
- **信息色**：#4299e1（蓝色）

### 中性色
- **背景色**：#f7fafc（浅灰）
- **表面色**：#ffffff（白色）
- **边框色**：#e2e8f0（灰色）
- **文字主色**：#2d3748（深灰）
- **文字次色**：#718096（中灰）

## 使用方法

### 1. 在 QML 文件中导入样式

```qml
import AppStyles 1.0
```

### 2. 使用样式常量

```qml
Rectangle {
    color: AppStyles.primaryColor
    radius: AppStyles.radiusMedium
    border.color: AppStyles.borderColor
}

Text {
    font.pixelSize: AppStyles.fontSizeMedium
    color: AppStyles.textPrimary
}
```

### 3. 使用美化组件

```qml
import "../components"

StyledTextField {
    placeholderText: "请输入姓名"
    hasError: false
}

StyledButton {
    text: "提交"
    buttonType: "primary"  // primary, secondary, danger
    onClicked: {
        // 处理点击
    }
}

StyledLabel {
    text: "姓名："
}

StyledComboBox {
    model: ["选项1", "选项2", "选项3"]
}

StyledSpinBox {
    from: 0
    to: 100
    value: 18
}
```

## 下一步工作

### 需要更新的文件

1. **ControlFactory.qml** - 使用美化组件创建控件
2. **FormPreview.qml** - 更新表单预览的样式
3. **ConfigEditor.qml** - 更新配置编辑器的样式
4. **BasicPropertiesPanel.qml** - 使用美化组件
5. **EventConfigPanel.qml** - 使用美化组件
6. **ValidationPanel.qml** - 使用美化组件
7. **ControlEditDialog.qml** - 使用美化组件
8. **dynamicList.qml** - 更新列表页面的样式

### 更新策略

由于改动较大，建议分步进行：

#### 第一步：更新 ControlFactory（数据填写页面）
- 将 TextField 替换为 StyledTextField
- 将 Button 替换为 StyledButton
- 将 Label 替换为 StyledLabel
- 将 ComboBox 替换为 StyledComboBox
- 将 SpinBox 替换为 StyledSpinBox

#### 第二步：更新配置对话框
- BasicPropertiesPanel
- EventConfigPanel
- ValidationPanel
- ControlEditDialog

#### 第三步：更新主页面
- ConfigEditor
- FormPreview
- dynamicList

## 注意事项

### 1. 组件兼容性
美化组件保持了原有组件的所有属性和方法，可以直接替换。

### 2. 样式覆盖
如果需要自定义样式，可以覆盖组件的属性：

```qml
StyledButton {
    text: "自定义按钮"
    buttonType: "primary"
    height: 50  // 覆盖默认高度
    background: Rectangle {
        // 完全自定义背景
    }
}
```

### 3. 性能考虑
- 使用 Behavior 实现平滑动画，性能开销很小
- 样式单例模式，全局共享，不会重复创建

## 效果预览

### 输入框
- 默认状态：白色背景，灰色边框
- 聚焦状态：紫色边框（2px）
- 错误状态：红色边框

### 按钮
- Primary：紫色背景，白色文字
- Secondary：灰色背景，深色文字
- Danger：红色背景，白色文字
- 悬停时颜色加深
- 按下时颜色更深

### 下拉框
- 与输入框样式一致
- 自定义下拉箭头
- 美化的下拉列表

### 数字输入框
- 紫色的增减按钮
- 与输入框样式一致
- 悬停和按下效果

## 总结

通过统一的样式系统和美化组件，整个应用的界面将更加：
- ✅ 美观：现代化的设计风格
- ✅ 一致：统一的颜色和尺寸
- ✅ 易用：清晰的视觉反馈
- ✅ 专业：精致的细节处理
